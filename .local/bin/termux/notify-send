#!/bin/sh

# notify-send wrapper for Termux

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	colorfg="$(grep "_normal" -A 2 "${XDG_CONFIG_DIR:-$HOME/.config}"/dunst/dunstrc | grep "foreground" | cut -d'"' -f2)"
	colorbg="$(grep "_normal" -A 2 "${XDG_CONFIG_DIR:-$HOME/.config}"/dunst/dunstrc | grep "background" | cut -d'"' -f2)"
	while getopts ":a:A:u:t:i:c:h:r:" o ; do case "${o}" in
		[aAutichr]) ;;
	esac done
	shift $((OPTIND - 1))
	termux-toast -g top -c "$colorfg" -b "$colorbg" "$@"
else
	"$PREFIX"/bin/notify-send "$@"
fi
