#!/bin/sh

# xclip wrapper for Termux.

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	for i in "$@" ; do case "$i" in
		-h*|-vers*) exit ;;
		-o*) clip="out" ;;
		-f*) filter="$2" ; shift 2 ;;
		-[sltd]*) shift 2 ;;
		-*) shift ;;
	esac done
	case "${clip:-in}" in
		in) termux-clipboard-set "$@" ;;
		out) termux-clipboard-get ; exit ;;
	esac
	[ -z "$filter" ] || echo "$@"
else
	"$PREFIX"/bin/xclip "$@"
fi
