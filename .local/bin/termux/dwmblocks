#!/bin/sh

# dwmblocks wrapper for Termux

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	blocks() {
		unset blocks
		# blocks="$blocks ⌨ $(sb-kbselect)"
		blocks="$blocks $(cat "$PREFIX"/tmp/recordingicon 2>/dev/null)"
		blocks="$blocks $(sb-tasks)"
		# blocks="$blocks $(sb-music)"
		blocks="$blocks $(sb-pacpackages)"
		blocks="$blocks $(sb-news)"
		# blocks="$blocks $(sb-price xmr-btc "Monero to Bitcoin" 🔒 25)"
		# blocks="$blocks $(sb-price xmr Monero 🔒 24)"
		# blocks="$blocks $(sb-price eth Ethereum 🍸 23)"
		# blocks="$blocks $(sb-price btc Bitcoin 💰 21)"
		blocks="$blocks $(sb-torrent)"
		# blocks="$blocks $(sb-memory)"
		# blocks="$blocks $(sb-cpu)"
		# blocks="$blocks $(sb-moonphase)"
		blocks="$blocks $(sb-doppler)"
		blocks="$blocks $(sb-forecast)"
		blocks="$blocks $(sb-mailbox)"
		blocks="$blocks $(sb-nettraf)"
		blocks="$blocks $(sb-volume)"
		blocks="$blocks $(sb-battery)"
		blocks="$blocks $(sb-clock)"
		blocks="$blocks $(sb-internet)"
		# blocks="$blocks $(sb-iplocate)"
		blocks="$blocks $(sb-help-icon)"
		echo "$blocks" | tr -s ' '
	}
blocks 2>/dev/null
else
	"$PREFIX"/bin/dwmblocks "$@"
fi
