#!/bin/sh

# mimeopen wrapper for Termux

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	for var in "$@" ; do case "$var" in
		-*) ;;
		*) args="$args $var" ;;
	esac done
	set -- "${args# }"
	[ -z "$1" ] &&
		xargs sh -c 'termux-share -t "$1" -d "$1"' ||
		termux-share -t "$1" -d "$1"
else
	"$PREFIX"/bin/vendor_perl/mimeopen "$@"
fi
