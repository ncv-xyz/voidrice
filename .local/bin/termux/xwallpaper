#!/bin/sh

# xwallpaper wrapper for Termux.

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	for i in "$@" ; do case "$i" in
		--[cdnv]*) shift ;;
		--[sofmtz]*|--ce*) shift 2 ;;
	esac ; done
	[ -f "$1" ] || { printf "File not found: $1\\n" ; exit 1 ;}
	file="$(readlink -f "$1")"
	termux-wallpaper -f "$file"
	termux-wallpaper -l -f "$file"
else
	"$PREFIX"/bin/xwallpaper "$@"
fi
