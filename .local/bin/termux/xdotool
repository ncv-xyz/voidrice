#!/bin/sh

# xdotool wrapper for Termux.

if [ -n "$SSH_CLIENT" ] || [ -n "$SSH_TTY" ]; then
	[ "$1" = "type" ] && shift || exit 0
	for i in "$@" ; do case "$i" in
		--f*) file='1' ; shift ;;
		--[wd*]) shift 2 ;;
		-*) shift ;;
	esac done
	[ -z "$file" ] && args="$@"
	[ -n "$file" ] && { [ -n "$1" ] &&
		file="$(cat "$1")" ||
		file="$(xargs cat)" ;}
	termux-clipboard-set "${args:-$file}"
else
	"$PREFIX"/bin/xdotool "$@"
fi
